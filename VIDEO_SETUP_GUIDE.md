# Video Setup Guide for Projects

## Overview

Your ProjectCard component now supports both images and videos! Here's how to use them.

## File Structure

```
src/assets/
├── optimized/          # For images (existing)
│   ├── projectname.png
│   ├── projectname.webp
│   ├── projectname-small.png
│   └── ...
└── videos/             # For videos (new)
    ├── projectname.webm
    └── projectname.mp4
```

## How It Works

The ProjectCard component will:

1. **Check if `video` field exists** → If yes, show video
2. **If no video, check if `image` field exists** → If yes, show image
3. **If neither exist** → Show placeholder

## Adding Projects with Images (Existing Method)

```json
{
  "id": 1,
  "title": "My Project",
  "image": "projectname", // Without extension
  "alt": "Project description"
  // ... rest of fields
}
```

**Required files:**

- `src/assets/optimized/projectname.png`
- `src/assets/optimized/projectname.webp` (generated by optimize-images script)

## Adding Projects with Videos (New Method)

### Option 1: Video Only (no poster image)

```json
{
  "id": 1,
  "title": "My Project",
  "video": "projectname", // Without extension
  "alt": "Project description"
  // ... rest of fields
}
```

**Required files:**

- `src/assets/videos/projectname.webm` (recommended)
- `src/assets/videos/projectname.mp4` (fallback for Safari)

### Option 2: Video with Custom Poster Image

```json
{
  "id": 1,
  "title": "My Project",
  "video": "projectname",
  "videoPoster": "poster-image-name", // Without extension
  "alt": "Project description"
  // ... rest of fields
}
```

**Required files:**

- `src/assets/videos/projectname.webm`
- `src/assets/videos/projectname.mp4`
- `src/assets/optimized/poster-image-name.png` (poster image)

### Option 3: Both Image and Video (Video takes priority)

```json
{
  "id": 1,
  "title": "My Project",
  "image": "projectname", // Fallback if video fails
  "video": "projectname", // Will be shown if available
  "alt": "Project description"
  // ... rest of fields
}
```

## Converting Videos for Web

### 1. Convert to WebM (best compression)

```bash
ffmpeg -i input.mp4 -c:v libvpx-vp9 -crf 30 -b:v 0 -c:a libopus projectname.webm
```

### 2. Convert to MP4 (Safari compatibility)

```bash
ffmpeg -i input.mp4 -c:v libx264 -crf 23 -c:a aac -strict experimental projectname.mp4
```

### 3. Create a poster image (thumbnail)

```bash
ffmpeg -i input.mp4 -ss 00:00:01 -vframes 1 projectname-poster.png
```

## Video Settings

The ResponsiveVideo component has these default settings:

- **autoPlay**: `true` - Plays automatically when visible
- **loop**: `true` - Loops continuously
- **muted**: `true` - Muted by default (required for autoplay)
- **playsInline**: `true` - Plays inline on mobile devices
- **controls**: `false` - No video controls shown
- **preload**: `metadata` - Only loads metadata until visible

These settings create a GIF-like experience that's perfect for showcasing projects!

## Best Practices

1. **Keep videos short** (3-10 seconds) - They're meant to showcase, not tell the full story
2. **Optimize file size** - Target under 5MB per video
3. **Use both WebM and MP4** - WebM for modern browsers, MP4 for Safari
4. **Always mute autoplay videos** - Browsers won't allow unmuted autoplay
5. **Consider mobile data** - Videos lazy-load but still consume data
6. **Create good poster images** - They show before video loads

## Example: Complete Project Entry

```json
{
  "id": 6,
  "title": "Animated Dashboard",
  "video": "dashboard-demo",
  "videoPoster": "dashboard-poster",
  "alt": "Interactive dashboard with real-time data visualization",
  "description": "A responsive dashboard featuring animated charts, live data updates, and smooth transitions.",
  "categories": ["UI/UX", "Frontend"],
  "stack": ["React", "D3.js", "Styled Components"],
  "netlify": "https://my-dashboard.netlify.app/",
  "github": "https://github.com/username/dashboard",
  "size": "medium"
}
```

## Troubleshooting

### Video not showing?

1. Check console for errors
2. Verify files exist in `src/assets/videos/`
3. Check filename matches exactly (case-sensitive)
4. Try opening the video URL directly in browser

### Video not playing?

1. Check browser console for autoplay policy errors
2. Ensure video is muted (`muted={true}`)
3. Verify video codecs are supported
4. Try different browser

### Performance issues?

1. Reduce video file size (increase CRF value)
2. Reduce video resolution (720p or lower)
3. Shorten video duration
4. Consider using image instead

## Migration Strategy

You don't need to change anything right now! The system:

- ✅ Works with existing image-only projects
- ✅ Supports new video projects
- ✅ Falls back gracefully if files are missing
- ✅ Can mix images and videos in the same project list

Start by adding one video project as a test, then gradually add more as needed.
